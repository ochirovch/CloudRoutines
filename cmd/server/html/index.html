<!doctype html>
<html>
  <head>
    <title>Cloud routines</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  </head>
  <body>

        <div class="container">
            <div class="row">
                <div class="col">
                </div>
                <div class="col-8">
                    <ul id ="vps-list" class="list-group">
                        <div>
                        <h1>Cloud routines</h1>
                        <button type="button" class="btn btn-outline-success" onclick="addvps(0)">add vps</button>
                        <button type="button" class="btn btn-outline-danger">delete vps</button>
                        </div>
                    {{range .}}
                        <li class="list-group-item list-group-item-action">{{.Name}}</li>
                    {{end}}
                    </ul>
                </div>
                <div class="col">
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <script>
    function addvps(id1)
    {
            $.ajax({
            url:"node/add",
            type:"POST",
            dataType: "json",
            data:{
              projectName: "ClouRoutines",
            },
            success:function(data) {
                $.each(data, function(index, element) {
                    var ul = document.getElementById("vps-list");
                    var li = document.createElement("li");
                    li.className = "list-group-item"
                    li.appendChild(document.createTextNode(element.Name));
                    ul.appendChild(li);
                });
           },
           error:function(){
            alert("error");
           }
          });
        }
        </script>
    
</body>
</html>